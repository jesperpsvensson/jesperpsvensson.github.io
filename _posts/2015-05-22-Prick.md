---
layout: post
date: 2015-05-22
author: Jesper Svensson
title: Prick [Projekt]
---

*Ett spel för de yngre barnen som lär sig siffror. Reglerna är enkla, räkna prickarna och välj motsvarande siffra.*

![Prick]({{ site.url }}/assets/prick2.png)

Jag och min dotter satt och ritade och hon gjorde prickar på sitt papper, sedan räknade hon dem och bad mig skriva den siffran på pappret. Det var helt enkelt på det viset jag fick idéen till denna lilla "app".

Prick är skrivit i Python med Pythonista för iOS och använder bland annat ui- och ljud-modulen och är ett väldigt enkelt exempel på hur kraftfull Pythonista är.

prick.py :

{% highlight python %}
# coding: utf-8

"""
Prick - räkna prickarna
Version 0.1
Av: Jesper Svensson @jesperpsvensson

-----------------------

Spel för de mindre barnen som lär sig siffor
Räkna prickarna och välj motsvarande siffra
"""


import ui
import random
import sound
import time

starsdic = []
button_titles = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
tries = []
points = []

def check(sender):
	if str(sender.title) == str(len(starsdic)):
		sound.play_effect('game:Ding_3')
		add_points()
		del starsdic[:]
		set_stars()
		set_buttons()
	else:
		sound.play_effect('Jump_5')
		decrease_life()

def restart_game(sender):
	if len(sender.superview['lifeLabel'].text) > 0:
		pass
	else:
		main()
		sender.superview['pointLabel'].text = '0'
		sender.title = ''

v = ui.load_view()

def set_stars():
	stars = ""
	stars_count = random.randrange(1, 11)
	stars_added = 0
	while stars_added < stars_count:
		stars += "•"
		stars_added += 1
		starsdic.append('1')
	v['astericsLabel'].text = stars

def set_lives():
	v['lifeLabel'].text = '❤️❤️❤️'

def decrease_life():
	if len(v['lifeLabel'].text) == 6:
		v['lifeLabel'].text = '❤️❤️'
	elif len(v['lifeLabel'].text) == 4:
		v['lifeLabel'].text = '❤️'
	else:
		v['lifeLabel'].text = ''
		v['astericsLabel'].text = 'Game Over'
		time.sleep(0.5)
		sound.play_effect('Piano_A3#')
		time.sleep(0.15)
 		sound.play_effect('Piano_A3')
 		time.sleep(0.15)
 		sound.play_effect('Piano_G3#')
 		time.sleep(0.2)
 		sound.play_effect('Piano_G3')
 		time.sleep(0.25)
 		sound.play_effect('Piano_F3#')
 		time.sleep(0.3)
 		sound.play_effect('Piano_F3')
 		time.sleep(0.35)
 		sound.play_effect('Piano_E3')
 		time.sleep(0.6)
 		sound.play_effect('Explosion_4')
 		v['replay'].title = 'Tryck här för att spela igen...'
 		del starsdic[:]
 		del points[:]

def add_points():
	if len(v['lifeLabel'].text) == 6:
		points.append(10)
		v['pointLabel'].text = str(sum(points))
	elif len(v['lifeLabel'].text) == 4:
		points.append(5)
		v['pointLabel'].text = str(sum(points))
	elif len(v['lifeLabel'].text) == 2:
		points.append(1)
		v['pointLabel'].text = str(sum(points))
	else:
		pass

def set_buttons():
	random.shuffle(button_titles)
	v['button1'].title = str(button_titles[0])
	v['button2'].title = str(button_titles[1])
	v['button3'].title = str(button_titles[2])
	v['button4'].title = str(button_titles[3])
	v['button5'].title = str(button_titles[4])
	v['button6'].title = str(button_titles[5])
	v['button7'].title = str(button_titles[6])
	v['button8'].title = str(button_titles[7])
	v['button9'].title = str(button_titles[8])
	v['button10'].title = str(button_titles[9])

def main():
	set_stars()
	set_lives()
	set_buttons()

main()
v.present('full_screen', hide_title_bar = True, orientations='portrait')

{% endhighlight %}

prick.pyui:

{% highlight python %}

[{"class":"View","attributes":{"background_color":"RGBA(0.663265,0.928571,0.864898,1.000000)","tint_color":"RGBA(0.000000,0.478000,1.000000,1.000000)","enabled":true,"border_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","flex":""},"frame":"{{0, 0}, {768, 960}}","nodes":[{"class":"Label","attributes":{"font_size":100,"enabled":true,"text":"**********","flex":"","name":"astericsLabel","border_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","text_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","alignment":"center","uuid":"665F7D83-AFBD-4FB2-A1D1-C6F6DF980139"},"frame":"{{31, 110}, {706, 245}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button1","corner_radius":16,"border_width":5,"uuid":"551B73D5-4E3B-40AC-92CE-B605E71EEC2D"},"frame":"{{85, 472}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"9","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button2","corner_radius":16,"border_width":5,"uuid":"189C0929-2C7A-452E-A739-D74C49B99F30"},"frame":"{{235, 533}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button3","corner_radius":16,"border_width":5,"uuid":"3ECC3EC9-5CA7-4844-815E-2B91458C2035"},"frame":"{{403, 496}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button4","corner_radius":16,"border_width":5,"uuid":"71F133FD-3A69-4E3F-BCEB-41CCEC43E7A5"},"frame":"{{582, 463}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button5","corner_radius":16,"border_width":5,"uuid":"19CEA8DC-128B-44F0-B1FE-098DD1759904"},"frame":"{{581, 773}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button6","corner_radius":16,"border_width":5,"uuid":"0F638849-B780-4FBF-AB1C-DCA8A4C7C8AB"},"frame":"{{388, 680}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button7","corner_radius":16,"border_width":5,"uuid":"A3227F8C-A254-43C8-8829-C7E03E181491"},"frame":"{{562, 616}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button8","corner_radius":16,"border_width":5,"uuid":"8DC846A0-A324-4391-B91D-742815DB9A96"},"frame":"{{85, 632}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button9","corner_radius":16,"border_width":5,"uuid":"06B17B37-1718-48F5-840D-BC8033305135"},"frame":"{{235, 745}, {133, 133}}","nodes":[]},{"class":"Button","attributes":{"background_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","border_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","font_size":75,"title":"","enabled":true,"tint_color":"RGBA(1.000000,1.000000,1.000000,1.000000)","flex":"","action":"check","font_bold":true,"name":"button10","corner_radius":16,"border_width":5,"uuid":"37671ADA-36CF-47FF-A624-E4B4DEC41F26"},"frame":"{{72, 773}, {133, 133}}","nodes":[]},{"class":"Label","attributes":{"font_size":50,"enabled":true,"text":"","flex":"","name":"lifeLabel","border_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","text_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","alignment":"left","uuid":"50432C03-E9C8-4B17-B19E-0D621D1A2B71"},"frame":"{{31, 55}, {214, 65}}","nodes":[]},{"class":"Label","attributes":{"font_size":50,"enabled":true,"text":"0","flex":"","name":"pointLabel","border_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","text_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","alignment":"right","uuid":"D5525C1D-17FC-4163-AF8D-B0A2502F03D6"},"frame":"{{548, 55}, {167, 65}}","nodes":[]},{"class":"Button","attributes":{"tint_color":"RGBA(0.357143,0.357143,0.357143,1.000000)","font_size":20,"enabled":true,"font_bold":false,"name":"replay","flex":"","border_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","action":"restart_game","uuid":"69187DB8-6FB5-44EB-A01E-E7EF20242F07","title":""},"frame":"{{145, 349}, {477, 70}}","nodes":[]},{"class":"Label","attributes":{"font_size":17,"enabled":true,"text":"Poäng","flex":"","name":"label1","border_color":"RGBA(0.000000,0.000000,0.000000,1.000000)","text_color":"RGBA(0.153061,0.714286,0.682889,1.000000)","alignment":"right","uuid":"AD2B09ED-8584-43C4-B9B7-EF9D7A320A0A"},"frame":"{{565, 26}, {150, 32}}","nodes":[]}]}]

{% endhighlight %}

Just nu stöds bara iPad, men jag planerar att stödja iPhone i framtiden. För att kunna spela krävs att du har Pythonista installerad på din enhet. Ni hittar koden på [GitHub](https://github.com/jesperpsvensson/Pythonista-scripts).
